\hypertarget{classins__media_1_1_video_stitcher}{}\doxysection{ins\+\_\+media\+::Video\+Stitcher Class Reference}
\label{classins__media_1_1_video_stitcher}\index{ins\_media::VideoStitcher@{ins\_media::VideoStitcher}}


A class that stitch video, only support the formats that maked by Insta360 camera, for example $\ast$.insv . If you want to make the most of multiple G\+P\+Us, you must create process instances to correspond to each G\+PU. In a process instance, multiple G\+P\+Us are not supported.  




{\ttfamily \#include $<$stitcher.\+h$>$}

\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classins__media_1_1_video_stitcher_afc7a6bf23c4f1d094a30aa41d4dae635}{Set\+Input\+Path}} (std\+::vector$<$ std\+::string $>$ \&input\+\_\+paths)
\begin{DoxyCompactList}\small\item\em set the path of the source that you wanted. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classins__media_1_1_video_stitcher_aacdec66eeef46e452879825d2421d766}\label{classins__media_1_1_video_stitcher_aacdec66eeef46e452879825d2421d766}} 
void \mbox{\hyperlink{classins__media_1_1_video_stitcher_aacdec66eeef46e452879825d2421d766}{Set\+Stab\+Data\+Output\+Path}} (const std\+::string file\+\_\+path)
\begin{DoxyCompactList}\small\item\em set output path of the stab path \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classins__media_1_1_video_stitcher_ac5da5c91216cb1ce9cf9c17a2030df00}{Set\+Image\+Sequence\+Info}} (const std\+::string output\+\_\+dir, I\+M\+A\+G\+E\+\_\+\+T\+Y\+PE image\+\_\+type)
\begin{DoxyCompactList}\small\item\em set the info of imgage sequence \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classins__media_1_1_video_stitcher_ac8706d230a5f7f6d03453a0d2f927dfe}\label{classins__media_1_1_video_stitcher_ac8706d230a5f7f6d03453a0d2f927dfe}} 
void \mbox{\hyperlink{classins__media_1_1_video_stitcher_ac8706d230a5f7f6d03453a0d2f927dfe}{Set\+Cuda\+Device\+No}} (int gpu)
\begin{DoxyCompactList}\small\item\em set the number of Nvidia G\+PU (support cuda)(only windows) \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classins__media_1_1_video_stitcher_a23660d84dc8131e1cec07f245732fa8e}\label{classins__media_1_1_video_stitcher_a23660d84dc8131e1cec07f245732fa8e}} 
int \mbox{\hyperlink{classins__media_1_1_video_stitcher_a23660d84dc8131e1cec07f245732fa8e}{Get\+Cuda\+Device\+Num}} ()
\begin{DoxyCompactList}\small\item\em set the number of Nvidia G\+PU (support cuda)(only windows) \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classins__media_1_1_video_stitcher_a25d439807a5546dbc887c17f65fb977f}\label{classins__media_1_1_video_stitcher_a25d439807a5546dbc887c17f65fb977f}} 
void {\bfseries Enable\+Cuda} (bool enable)
\item 
\mbox{\Hypertarget{classins__media_1_1_video_stitcher_a7ee149db1317cdd343a37fbc72a3f4e6}\label{classins__media_1_1_video_stitcher_a7ee149db1317cdd343a37fbc72a3f4e6}} 
void \mbox{\hyperlink{classins__media_1_1_video_stitcher_a7ee149db1317cdd343a37fbc72a3f4e6}{Set\+Output\+Path}} (const std\+::string \&output\+\_\+path)
\begin{DoxyCompactList}\small\item\em set the file path of the output that you wanted, include filename \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classins__media_1_1_video_stitcher_a581e72ee2b146ca78e4d93d58a382280}\label{classins__media_1_1_video_stitcher_a581e72ee2b146ca78e4d93d58a382280}} 
void \mbox{\hyperlink{classins__media_1_1_video_stitcher_a581e72ee2b146ca78e4d93d58a382280}{Set\+Output\+Bit\+Rate}} (int64\+\_\+t bit\+Rate)
\begin{DoxyCompactList}\small\item\em set the video bitrate of the output file bps \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classins__media_1_1_video_stitcher_ac61f168abc43bb368fe3ae06d91c55de}\label{classins__media_1_1_video_stitcher_ac61f168abc43bb368fe3ae06d91c55de}} 
void \mbox{\hyperlink{classins__media_1_1_video_stitcher_ac61f168abc43bb368fe3ae06d91c55de}{Set\+Output\+Size}} (int width, int height)
\begin{DoxyCompactList}\small\item\em set the video resolution of the output file，default size of source \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classins__media_1_1_video_stitcher_ae0673b3c8eea09d5782a9d2309855a47}{Enable\+Flow\+State}} (bool enable)
\begin{DoxyCompactList}\small\item\em Whether to turn on Flow\+State. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classins__media_1_1_video_stitcher_a21511b151c117161de97b5ced1fd7a0b}{Enable\+Direction\+Lock}} (bool enable)
\begin{DoxyCompactList}\small\item\em Whether to turn on direction\+Lock, the feautre depend on flowstate, flowstate must open if you want use the feature. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classins__media_1_1_video_stitcher_abdf045b264e546cd38657c4f47e07ca6}{Enable\+Stitch\+Fusion}} (bool enable)
\begin{DoxyCompactList}\small\item\em Whether to turn on Image\+Fusion, not support T\+E\+M\+P\+L\+A\+TE stitch. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classins__media_1_1_video_stitcher_a427ff3b7ff98e33cf93bbbad8e7c4add}{Enable\+Denoise}} (bool enable)
\begin{DoxyCompactList}\small\item\em Whether to turn on denoise. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classins__media_1_1_video_stitcher_a95e7943151b7fb59288c8b7e5fe59715}{Enable\+Color\+Plus}} (bool enable, const std\+::string \&model\+\_\+path=\char`\"{}\char`\"{})
\begin{DoxyCompactList}\small\item\em Whether to turn on Image\+Fusion. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classins__media_1_1_video_stitcher_a0eb04adb8f0646111d10aff71224dc56}\label{classins__media_1_1_video_stitcher_a0eb04adb8f0646111d10aff71224dc56}} 
void \mbox{\hyperlink{classins__media_1_1_video_stitcher_a0eb04adb8f0646111d10aff71224dc56}{Enable\+H265\+Encoder}} ()
\begin{DoxyCompactList}\small\item\em Whether to use h265 encoder, default encoder is h264. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classins__media_1_1_video_stitcher_ad89af984d5e41cf5e51dcba9c9aaf92d}{Set\+Stitch\+Type}} (S\+T\+I\+T\+C\+H\+\_\+\+T\+Y\+PE type)
\begin{DoxyCompactList}\small\item\em set the type of stitch, \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classins__media_1_1_video_stitcher_a4d1875543f23de79418af906c12092e5}{Set\+Stitch\+Progress\+Callback}} (stitch\+\_\+process\+\_\+callback callback)
\begin{DoxyCompactList}\small\item\em set the callback that can tell the client the process of stitch \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classins__media_1_1_video_stitcher_abe06cdb22506c0308e41ea51be8b97e6}{Set\+Stitch\+State\+Callback}} (stitch\+\_\+error\+\_\+callback callback)
\begin{DoxyCompactList}\small\item\em set the callback that can tell the client the error if stitcher goes error \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classins__media_1_1_video_stitcher_ab2439dd76ef3246112b30146a33de406}\label{classins__media_1_1_video_stitcher_ab2439dd76ef3246112b30146a33de406}} 
void \mbox{\hyperlink{classins__media_1_1_video_stitcher_ab2439dd76ef3246112b30146a33de406}{Start\+Stitch}} ()
\begin{DoxyCompactList}\small\item\em start stitch \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classins__media_1_1_video_stitcher_a94368e3df76a855cdc7bc49ba6192106}\label{classins__media_1_1_video_stitcher_a94368e3df76a855cdc7bc49ba6192106}} 
bool \mbox{\hyperlink{classins__media_1_1_video_stitcher_a94368e3df76a855cdc7bc49ba6192106}{Cancel\+Stitch}} ()
\begin{DoxyCompactList}\small\item\em cancel stitch \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classins__media_1_1_video_stitcher_a3eec59c32f57e9e41cd7838d1c45cede}\label{classins__media_1_1_video_stitcher_a3eec59c32f57e9e41cd7838d1c45cede}} 
int \mbox{\hyperlink{classins__media_1_1_video_stitcher_a3eec59c32f57e9e41cd7838d1c45cede}{Get\+Stitch\+Progress}} () const
\begin{DoxyCompactList}\small\item\em get stitch progress 0 $\sim$ 100 \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classins__media_1_1_video_stitcher_a6548aab110986a70acbc319a3266bc95}\label{classins__media_1_1_video_stitcher_a6548aab110986a70acbc319a3266bc95}} 
void \mbox{\hyperlink{classins__media_1_1_video_stitcher_a6548aab110986a70acbc319a3266bc95}{Set\+Camera\+Accessory\+Type}} (Camera\+Accessory\+Type type)
\begin{DoxyCompactList}\small\item\em set Camera\+Accessory\+Type \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classins__media_1_1_video_stitcher_af82289de938961aac777efd84ddd89c8}\label{classins__media_1_1_video_stitcher_af82289de938961aac777efd84ddd89c8}} 
void {\bfseries Enable\+Area\+Sample} (bool enable)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
A class that stitch video, only support the formats that maked by Insta360 camera, for example $\ast$.insv . If you want to make the most of multiple G\+P\+Us, you must create process instances to correspond to each G\+PU. In a process instance, multiple G\+P\+Us are not supported. 

\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classins__media_1_1_video_stitcher_a95e7943151b7fb59288c8b7e5fe59715}\label{classins__media_1_1_video_stitcher_a95e7943151b7fb59288c8b7e5fe59715}} 
\index{ins\_media::VideoStitcher@{ins\_media::VideoStitcher}!EnableColorPlus@{EnableColorPlus}}
\index{EnableColorPlus@{EnableColorPlus}!ins\_media::VideoStitcher@{ins\_media::VideoStitcher}}
\doxysubsubsection{\texorpdfstring{EnableColorPlus()}{EnableColorPlus()}}
{\footnotesize\ttfamily void ins\+\_\+media\+::\+Video\+Stitcher\+::\+Enable\+Color\+Plus (\begin{DoxyParamCaption}\item[{bool}]{enable,  }\item[{const std\+::string \&}]{model\+\_\+path = {\ttfamily \char`\"{}\char`\"{}} }\end{DoxyParamCaption})}



Whether to turn on Image\+Fusion. 


\begin{DoxyParams}{Parameters}
{\em enable} & true is on and false is off, default off \\
\hline
{\em model\+\_\+path} & this param is required for the feature, if the param is empty, the feature is disabled \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classins__media_1_1_video_stitcher_a427ff3b7ff98e33cf93bbbad8e7c4add}\label{classins__media_1_1_video_stitcher_a427ff3b7ff98e33cf93bbbad8e7c4add}} 
\index{ins\_media::VideoStitcher@{ins\_media::VideoStitcher}!EnableDenoise@{EnableDenoise}}
\index{EnableDenoise@{EnableDenoise}!ins\_media::VideoStitcher@{ins\_media::VideoStitcher}}
\doxysubsubsection{\texorpdfstring{EnableDenoise()}{EnableDenoise()}}
{\footnotesize\ttfamily void ins\+\_\+media\+::\+Video\+Stitcher\+::\+Enable\+Denoise (\begin{DoxyParamCaption}\item[{bool}]{enable }\end{DoxyParamCaption})}



Whether to turn on denoise. 


\begin{DoxyParams}{Parameters}
{\em enable} & true is on and false is off, default off \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classins__media_1_1_video_stitcher_a21511b151c117161de97b5ced1fd7a0b}\label{classins__media_1_1_video_stitcher_a21511b151c117161de97b5ced1fd7a0b}} 
\index{ins\_media::VideoStitcher@{ins\_media::VideoStitcher}!EnableDirectionLock@{EnableDirectionLock}}
\index{EnableDirectionLock@{EnableDirectionLock}!ins\_media::VideoStitcher@{ins\_media::VideoStitcher}}
\doxysubsubsection{\texorpdfstring{EnableDirectionLock()}{EnableDirectionLock()}}
{\footnotesize\ttfamily void ins\+\_\+media\+::\+Video\+Stitcher\+::\+Enable\+Direction\+Lock (\begin{DoxyParamCaption}\item[{bool}]{enable }\end{DoxyParamCaption})}



Whether to turn on direction\+Lock, the feautre depend on flowstate, flowstate must open if you want use the feature. 


\begin{DoxyParams}{Parameters}
{\em enable} & true is on and false is off, default off \textbackslash{} \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classins__media_1_1_video_stitcher_ae0673b3c8eea09d5782a9d2309855a47}\label{classins__media_1_1_video_stitcher_ae0673b3c8eea09d5782a9d2309855a47}} 
\index{ins\_media::VideoStitcher@{ins\_media::VideoStitcher}!EnableFlowState@{EnableFlowState}}
\index{EnableFlowState@{EnableFlowState}!ins\_media::VideoStitcher@{ins\_media::VideoStitcher}}
\doxysubsubsection{\texorpdfstring{EnableFlowState()}{EnableFlowState()}}
{\footnotesize\ttfamily void ins\+\_\+media\+::\+Video\+Stitcher\+::\+Enable\+Flow\+State (\begin{DoxyParamCaption}\item[{bool}]{enable }\end{DoxyParamCaption})}



Whether to turn on Flow\+State. 


\begin{DoxyParams}{Parameters}
{\em enable} & true is on and false is off, default off \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classins__media_1_1_video_stitcher_abdf045b264e546cd38657c4f47e07ca6}\label{classins__media_1_1_video_stitcher_abdf045b264e546cd38657c4f47e07ca6}} 
\index{ins\_media::VideoStitcher@{ins\_media::VideoStitcher}!EnableStitchFusion@{EnableStitchFusion}}
\index{EnableStitchFusion@{EnableStitchFusion}!ins\_media::VideoStitcher@{ins\_media::VideoStitcher}}
\doxysubsubsection{\texorpdfstring{EnableStitchFusion()}{EnableStitchFusion()}}
{\footnotesize\ttfamily void ins\+\_\+media\+::\+Video\+Stitcher\+::\+Enable\+Stitch\+Fusion (\begin{DoxyParamCaption}\item[{bool}]{enable }\end{DoxyParamCaption})}



Whether to turn on Image\+Fusion, not support T\+E\+M\+P\+L\+A\+TE stitch. 


\begin{DoxyParams}{Parameters}
{\em enable} & true is on and false is off, default off \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classins__media_1_1_video_stitcher_ac5da5c91216cb1ce9cf9c17a2030df00}\label{classins__media_1_1_video_stitcher_ac5da5c91216cb1ce9cf9c17a2030df00}} 
\index{ins\_media::VideoStitcher@{ins\_media::VideoStitcher}!SetImageSequenceInfo@{SetImageSequenceInfo}}
\index{SetImageSequenceInfo@{SetImageSequenceInfo}!ins\_media::VideoStitcher@{ins\_media::VideoStitcher}}
\doxysubsubsection{\texorpdfstring{SetImageSequenceInfo()}{SetImageSequenceInfo()}}
{\footnotesize\ttfamily void ins\+\_\+media\+::\+Video\+Stitcher\+::\+Set\+Image\+Sequence\+Info (\begin{DoxyParamCaption}\item[{const std\+::string}]{output\+\_\+dir,  }\item[{I\+M\+A\+G\+E\+\_\+\+T\+Y\+PE}]{image\+\_\+type }\end{DoxyParamCaption})}



set the info of imgage sequence 


\begin{DoxyParams}{Parameters}
{\em output\+\_\+dir} & the output dir of imgage sequence. does not include filename \\
\hline
{\em image\+\_\+type} & support jpg and png \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classins__media_1_1_video_stitcher_afc7a6bf23c4f1d094a30aa41d4dae635}\label{classins__media_1_1_video_stitcher_afc7a6bf23c4f1d094a30aa41d4dae635}} 
\index{ins\_media::VideoStitcher@{ins\_media::VideoStitcher}!SetInputPath@{SetInputPath}}
\index{SetInputPath@{SetInputPath}!ins\_media::VideoStitcher@{ins\_media::VideoStitcher}}
\doxysubsubsection{\texorpdfstring{SetInputPath()}{SetInputPath()}}
{\footnotesize\ttfamily void ins\+\_\+media\+::\+Video\+Stitcher\+::\+Set\+Input\+Path (\begin{DoxyParamCaption}\item[{std\+::vector$<$ std\+::string $>$ \&}]{input\+\_\+paths }\end{DoxyParamCaption})}



set the path of the source that you wanted. 


\begin{DoxyParams}{Parameters}
{\em input\+\_\+paths} & if the source is the kind that ‘5.7k’, the size of the vector is 2，1 othersize \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classins__media_1_1_video_stitcher_a4d1875543f23de79418af906c12092e5}\label{classins__media_1_1_video_stitcher_a4d1875543f23de79418af906c12092e5}} 
\index{ins\_media::VideoStitcher@{ins\_media::VideoStitcher}!SetStitchProgressCallback@{SetStitchProgressCallback}}
\index{SetStitchProgressCallback@{SetStitchProgressCallback}!ins\_media::VideoStitcher@{ins\_media::VideoStitcher}}
\doxysubsubsection{\texorpdfstring{SetStitchProgressCallback()}{SetStitchProgressCallback()}}
{\footnotesize\ttfamily void ins\+\_\+media\+::\+Video\+Stitcher\+::\+Set\+Stitch\+Progress\+Callback (\begin{DoxyParamCaption}\item[{stitch\+\_\+process\+\_\+callback}]{callback }\end{DoxyParamCaption})}



set the callback that can tell the client the process of stitch 


\begin{DoxyParams}{Parameters}
{\em callback} & used for get process the process \\
\hline
{\em lcontent} & the context \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classins__media_1_1_video_stitcher_abe06cdb22506c0308e41ea51be8b97e6}\label{classins__media_1_1_video_stitcher_abe06cdb22506c0308e41ea51be8b97e6}} 
\index{ins\_media::VideoStitcher@{ins\_media::VideoStitcher}!SetStitchStateCallback@{SetStitchStateCallback}}
\index{SetStitchStateCallback@{SetStitchStateCallback}!ins\_media::VideoStitcher@{ins\_media::VideoStitcher}}
\doxysubsubsection{\texorpdfstring{SetStitchStateCallback()}{SetStitchStateCallback()}}
{\footnotesize\ttfamily void ins\+\_\+media\+::\+Video\+Stitcher\+::\+Set\+Stitch\+State\+Callback (\begin{DoxyParamCaption}\item[{stitch\+\_\+error\+\_\+callback}]{callback }\end{DoxyParamCaption})}



set the callback that can tell the client the error if stitcher goes error 


\begin{DoxyParams}{Parameters}
{\em callback} & used for get err info of the process. \\
\hline
{\em lcontent} & the context \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classins__media_1_1_video_stitcher_ad89af984d5e41cf5e51dcba9c9aaf92d}\label{classins__media_1_1_video_stitcher_ad89af984d5e41cf5e51dcba9c9aaf92d}} 
\index{ins\_media::VideoStitcher@{ins\_media::VideoStitcher}!SetStitchType@{SetStitchType}}
\index{SetStitchType@{SetStitchType}!ins\_media::VideoStitcher@{ins\_media::VideoStitcher}}
\doxysubsubsection{\texorpdfstring{SetStitchType()}{SetStitchType()}}
{\footnotesize\ttfamily void ins\+\_\+media\+::\+Video\+Stitcher\+::\+Set\+Stitch\+Type (\begin{DoxyParamCaption}\item[{S\+T\+I\+T\+C\+H\+\_\+\+T\+Y\+PE}]{type }\end{DoxyParamCaption})}



set the type of stitch, 


\begin{DoxyParams}{Parameters}
{\em type} & it has three kind that has template,optflow and dynamic\+Stitch \textbackslash{} template is fastest and optflow is slowest. \\
\hline
\end{DoxyParams}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
D\+:/workspace/\+Media\+S\+D\+K/include/stitcher/stitcher.\+h\end{DoxyCompactItemize}
